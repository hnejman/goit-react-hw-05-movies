{"version":3,"file":"static/js/519.27b12b20.chunk.js","mappings":"sMAyDA,UApDe,WACb,IAAIA,GAAWC,EAAAA,EAAAA,MACfD,EAAWA,EAASE,SAASC,MAAM,KACnC,OAAgCC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAA6BC,EAAAA,EAAAA,MAAnBC,GAAV,eAwCA,OACE,2BAhCF,SAAcR,GACZ,GAAIS,MAAMC,QAAQV,IAAaA,EAASW,OAAS,EAC/C,OACE,kBAAMC,SAAU,SAAAC,GAAG,OAVV,SAAAA,GACbA,EAAIC,iBACJ,IAAMC,EAAQF,EAAIG,OAAOC,SAASC,MAAMH,MACxCP,EAAgB,CAAEW,MAAOJ,KACzBK,EAAAA,EAAAA,GAAYL,GAAOM,MAAK,SAAAC,GAAG,OAAIhB,EAAYgB,EAAIC,KAAKC,QAAzB,GAC5B,CAK4BC,CAAOZ,EAAX,EAAnB,WACE,kBAAOa,KAAK,OAAOC,KAAK,WACxB,mBAAQD,KAAK,SAAb,sBAIP,CAwBIE,CAAK5B,GAtBV,SAAgBK,GACd,GAAII,MAAMC,QAAQL,GAChB,OAAIA,EAASM,QAIT,wBACEN,EAASwB,KAAI,SAAAC,GACX,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAIE,IAAzB,SAAgCF,EAAIG,SAD7BH,EAAIE,GAIhB,OAVG,qDAeb,CAKIE,CAAO7B,KAGb,C","sources":["components/page/Movies.jsx"],"sourcesContent":["import { useLocation, useSearchParams } from 'react-router-dom';\nimport { useState } from 'react';\nimport { searchInApi } from '../getFromApi';\nimport { Link } from 'react-router-dom';\n\nconst Movies = () => {\n  let location = useLocation();\n  location = location.pathname.split('/');\n  const [response, setResponse] = useState('');\n  const [ , setSearchParams] = useSearchParams();\n\n  const search = evt => {\n    evt.preventDefault();\n    const value = evt.target.elements.input.value;\n    setSearchParams({ query: value });\n    searchInApi(value).then(res => setResponse(res.data.results));\n  };\n\n  function form(location) {\n    if (Array.isArray(location) && location.length < 3) {\n      return (\n        <form onSubmit={evt => search(evt)}>\n          <input type=\"text\" name=\"input\"></input>\n          <button type=\"submit\">Search</button>\n        </form>\n      );\n    }\n  }\n\n  function render(response) {\n    if (Array.isArray(response)) {\n      if(!response.length){\n        return( <p>We have no matching movies</p>)\n      }else{\n        return(\n          <ul>{\n            response.map(ele => {\n              return (\n                <li key={ele.id}>\n                  <Link to={`/movies/${ele.id}`}>{ele.title}</Link>\n                </li>\n              );\n            })\n          }</ul>\n        )\n      }\n    }\n  }\n\n  return (\n    <div>\n      {form(location)}\n      {render(response)}\n    </div>\n  );\n};\n\nexport default Movies;"],"names":["location","useLocation","pathname","split","useState","response","setResponse","useSearchParams","setSearchParams","Array","isArray","length","onSubmit","evt","preventDefault","value","target","elements","input","query","searchInApi","then","res","data","results","search","type","name","form","map","ele","to","id","title","render"],"sourceRoot":""}